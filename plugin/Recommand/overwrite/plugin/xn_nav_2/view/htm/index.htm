<?php include _include(APP_PATH.'view/htm/header.inc.htm');?>
	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span12">
				<div class="row-fluid">
					<!-- ç©ºç™½å ä½ç”¨ -->
					<div class="span12">
						<h3>

						</h3>
					</div>
				</div>
				<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
					<!--banneræ»šåŠ¨å±•ç¤º-->
					<ol class="carousel-indicators">
						<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
					</ol>
					<div class="carousel-inner">
						<div class="carousel-item active">
							<img class="d-block w-100" src="img/1.png" alt="First slide">
						</div>
						<div class="carousel-item">
							<img class="d-block w-100" src="img/2.png" alt="Second slide">
						</div>
						<div class="carousel-item">
							<img class="d-block w-100" src="img/3.png" alt="Third slide">
						</div>
					</div>
					<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
			<div class="row-fluid">
				<!-- ç©ºç™½å ä½ç”¨ -->
				<div class="span12">
					<h3>

					</h3>
				</div>
			</div>

			<div class="row-fluid">
				<!--æœç´¢æ¡†-->
				<form class="bs-example bs-example-form" role="form">
					<div class="input-group mb-3">
						<input id="text_for_major" type="text" class="form-control" placeholder="æœç´¢ä¸“ä¸šæˆ–æ‹¼éŸ³æŸ¥è¯¢" aria-label="Recipient's username" aria-describedby="basic-addon2">
						<div class="input-group-append">
							<button class="btn btn-outline-secondary" type="button" data-toggle="modal" data-target="#SearchModal">ğŸ”</button>
							<!--è°ƒç”¨æ¨¡æ€çª—å£æ‰“å¼€å‡½æ•°-->
							<button class="btn btn-outline-secondary" type="button" onclick="">é«˜çº§æœç´¢</button>
						</div>
					</div>
				</form>
				<div class="modal fade" id="SearchModal" tabindex="-1" role="dialog" aria-labelledby="SearchModalLabel" aria-hidden="true">
					<!--æ¥å—å¼¹å‡ºæœç´¢è€Œå¹¶éè·³è½¬-->
					<div class="modal-dialog" role="document">
						<div class="modal-content">

							<div class="modal-header">
									<h3 id="modal-title"></h3>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
									</button>
							</div>


							<div class="modal-body">

								<div class="form-group">
									<p id="modal-body-1"></p>
									<p id="s"></p>
								</div>

							</div>

							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
								<button type="button" class="btn btn-primary">Save changes</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<script>
				var major;
				var index_modal;
				$('#text_for_major').bind('input propertychange', function () {
					//$('#result').html($(this).val().length + ' characters');
					console.log(major);
					major = $(this).val();
				})


				function ajaxFunction() {
					//è¯¥å‡½æ•°å°†é¡µé¢çš„è¾“å…¥å‘é€åˆ°åå°ï¼Œç„¶åè¿”å›æŸ¥è¯¢çš„ç»“æœ
					var xmlhttp;//å®šä¹‰ä¸€ä¸ªxmlhttpå˜é‡
					var raw_s;
					try {
						xmlhttp = new XMLHttpRequest();//ä¸€ä¸ªXMLHttpRequestå¯¹è±¡
					} catch (e) {
						try {
							xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");//è¿™ä¸ªä¸»è¦æ˜¯é’ˆå¯¹ieæµè§ˆå™¨ä½ç‰ˆæœ¬çš„
						} catch (e) {
							alert("ä½ çš„æ¸¸è§ˆå™¨ä¸æ”¯æŒ");
							return false;
						}
					}
					//
					//            å¦‚æœreadyStateçŠ¶æ€æ”¹å˜ï¼Œé‚£å°±ä¼šè§¦å‘onreadystatechangeäº‹ä»¶
					//            readyStateçš„çŠ¶æ€ï¼š
					//            0: è¯·æ±‚æœªåˆå§‹åŒ–
					//            1: æœåŠ¡å™¨è¿æ¥å·²å»ºç«‹
					//            2: è¯·æ±‚å·²æ¥æ”¶
					//            3: è¯·æ±‚å¤„ç†ä¸­
					//            4: è¯·æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª
					xmlhttp.onreadystatechange = function () {
						if (xmlhttp.readyState == 4) {
							document.getElementById("s").innerHTML=xmlhttp.responseText;
							//alert(major);
						}
					}
					//æ‹¼æ¥è¯·æ±‚çš„url
					var url = "?relative=" + major;
					//å‡†å¤‡è¯·æ±‚
					xmlhttp.open("GET", "index_search.php" + url, true);
					//å°†è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨
					xmlhttp.send();
					//alert(major);
				}


				$('#SearchModal').on('show.bs.modal', function (event) {
					var button = $(event.relatedTarget) // Button that triggered the modal
					var recipient = button.data('whatever') // Extract info from data-* attributes
					index_modal = $(this)
					//console.log($(" input[ name='test' ] ").val())
					if (major == undefined || major == "") {
						//index_modal.find('.modal-title').text("å¿˜è®°è¾“å…¥å•¦")
						//index_modal.find('.modal-body').text("è¯·è¾“å…¥éœ€è¦æŸ¥æ‰¾çš„ä¿¡æ¯~")
						document.getElementById("modal-title").innerHTML="å¿˜è®°è¾“å…¥å•¦"
						document.getElementById("modal-body-1").innerText="è¯·è¾“å…¥éœ€è¦æŸ¥æ‰¾çš„æ ‡ç­¾~"
						document.getElementById("s").innerText="";
					}
					else {
						document.getElementById("modal-title").innerText="æç¤º"
						document.getElementById("modal-body-1").innerText="ä¸ºæ‚¨æŸ¥æ‰¾åˆ°ä»¥ä¸‹ç›¸å…³ç”¨æˆ·:"
						ajaxFunction()

					}

					//modal.find('.modal-title').text('New message to ' + recipient)

				})
			</script>
			<div class="col-12 column">
				<!--æ¨èæœç´¢ä¸“ä¸š-->
				<div class="row clearfix">
					<div class="col-8 column">
						<h5>å¤§å®¶éƒ½åœ¨æ‰¾`</h5>
					</div>
					<div class="col-4 column">
						<button type="button" class="btn btn-secondary">æ¢ä¸€æ‰¹ğŸ’¨</button>
					</div>
				</div>
				<br>
				<div class="row clearfix">
					<div class="col-6 column" class="mx-auto">
						<a href="#">#ç¯å¢ƒè®¾è®¡</a>
					</div>
					<div class="col-6 column" class="mx-auto">
						<a href="#">#äº§å“è®¾è®¡</a>
					</div>
				</div>
				<br>


				<div class="row clearfix">
					<div class="col-6 column">
						<a href="#">#æœè£…è®¾è®¡</a>
					</div>
					<div class="col-6 column">
						<a href="#">#è§†è§‰ä¼ è¾¾</a>
					</div>
				</div>
			</div>
			<hr>
			<div class="row clearfix">
				<!--å±•ç¤ºçƒ­é—¨ç”¨æˆ·-->
				<div class="col-md-12 column">
					<?
							function random_color(){
								$i=rand(0,3);
								//echo $i;
								switch($i)
								{
									case 0:
										return 'card text-white bg-secondary mb-3';
									case 1:
										return 'card text-white bg-info mb-3';
									case 2:
										return 'card bg-light mb-3';
									case 3:
										return 'card text-white bg-dark mb-3';
								}
							}
							for($i=0;$i<20;$i++)
							{
								echo '<div class="'.random_color().'" >'.
										'<div class="card-header">Header</div>'.
											'<div class="card-body">'.
												'<h5 class="card-title">Secondary card title</h5>'.
												'<p class="card-text">'.(string)$i.'</p>'.
											'</div>'.
									'</div>';
							}
						?>
				</div>
			</div>
		</div>
	</div>
<?php include _include(APP_PATH.'view/htm/footer.inc.htm');?>